(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{82:function(e,n,t){"use strict";t.d(n,"d",function(){return a}),t.d(n,"a",function(){return r}),t.d(n,"c",function(){return c}),t.d(n,"b",function(){return l});var a=function(e){return{type:"SIGNUP_SUCCESS",data:e}},r=function(e){return{type:"LOGIN_SUCCESS",data:e}},c=function(e){return{type:"LOGIN_SUCCESS",data:e}},l=function(){return{type:"LOGOUT"}}},89:function(e,n,t){},92:function(e,n,t){"use strict";t.r(n);var a=t(79),c=t.n(a),r=t(80),l=t.n(r),u=t(78),o=t.n(u),i=t(0),s=t.n(i),m=t(50),f=t(17),d=(t(89),t(37)),E=t(82),p=Object(f.g)(function(e){var n=Object(d.d)(function(e){return e}).currentUser,t=Object(d.c)();return s.a.createElement("header",{className:""},s.a.createElement("div",{className:"shadow wrapper"},s.a.createElement(m.c,{to:"/"},s.a.createElement("h1",null,"Docket")),n._id?s.a.createElement("div",{className:"auth_links-block"},s.a.createElement("span",{className:"user-name"},"Welcome ",n.fullName.split(" ")[0]),s.a.createElement("a",{href:"#",className:"auth_link",onClick:function(){t(Object(E.b)()),localStorage.removeItem("authToken"),e.history.push("/login")}},"Log out")):s.a.createElement("div",{className:"auth_links-block"},s.a.createElement(m.c,{to:"/login",className:"auth_link"},"Login"),s.a.createElement(m.c,{to:"/signup",className:"auth_link"},"Sign Up"))))}),b=t(41),h=t(77),O=t.n(h),w=t(51);function k(){var e=O()(["\n  query Me {\n    me {\n      _id\n      username\n      fullName\n      email\n    }\n  }\n"]);return k=function(){return e},e}function v(e){return Object(d.d)(function(e){return e.currentUser})._id?s.a.createElement(f.b,e):s.a.createElement(f.a,{to:"/login"})}var g=Object(w.a)(k()),S=t(38),j=Object(i.lazy)(function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,93))}),N=Object(i.lazy)(function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,90))}),y=Object(i.lazy)(function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,91))}),_=localStorage.getItem("authToken");n.default=function(){var e=Object(i.useState)(!!_),n=o()(e,2),t=n[0],a=n[1],r=Object(d.c)();return window.addEventListener("offline",function(){throw new Error("Offline")}),Object(i.useEffect)(function(){if(!navigator.onLine)throw new Error("Offline");_&&l()(c.a.mark(function e(){var n,t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.query({query:g});case 3:n=e.sent,t=n.data,r(Object(E.c)(t.me)),a(!1),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))()},[]),t?s.a.createElement(S.a,null):s.a.createElement(m.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(p,null),s.a.createElement(i.Suspense,{fallback:s.a.createElement(S.a,null)},s.a.createElement(f.d,null,s.a.createElement(v,{path:"/",exact:!0,component:j}),s.a.createElement(f.b,{path:"/login",component:N}),s.a.createElement(f.b,{path:"/signup",component:y})))))}}}]);